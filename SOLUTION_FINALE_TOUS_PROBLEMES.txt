â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸš€ SOLUTION FINALE - TOUS LES PROBLÃˆMES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PROBLÃˆMES IDENTIFIÃ‰S:
1. âŒ 500 EACCES: permission denied sur uploads/
2. âŒ 404 sur /api/home-content
3. âš ï¸  CSP bloque Google Fonts

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
COMMANDES Ã€ EXÃ‰CUTER (COPIE-COLLE)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# 1. Aller dans le projet
cd /var/www/ENG-RD/ENG_ENGRD-main

# 2. RÃ©cupÃ©rer les nouveaux fichiers
git pull origin main

# 3. Rendre le script exÃ©cutable
chmod +x fix-all-errors.sh

# 4. ExÃ©cuter le script de correction COMPLÃˆTE
sudo ./fix-all-errors.sh

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
CE QUE LE SCRIPT VA FAIRE:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. âœ… CrÃ©er et corriger les permissions du dossier uploads/
   - chmod 755 uploads
   - chown correct

2. âœ… DÃ©marrer MongoDB si nÃ©cessaire

3. âœ… Installer toutes les dÃ©pendances

4. âœ… CrÃ©er les collections MongoDB:
   - homecontents (pour /api/home-content)
   - news
   - jobs
   - applications
   - messages

5. âœ… Corriger la configuration Apache:
   - Autoriser Google Fonts dans CSP
   - Autoriser fonts.googleapis.com
   - Autoriser fonts.gstatic.com

6. âœ… RedÃ©marrer le backend avec PM2

7. âœ… Tester que tout fonctionne

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
RÃ‰SULTAT ATTENDU:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Permissions uploads corrigÃ©es
âœ… MongoDB actif
âœ… DÃ©pendances installÃ©es
âœ… Contenu page d'accueil initialisÃ©
âœ… ActualitÃ© de test crÃ©Ã©e
âœ… Configuration Apache corrigÃ©e (CSP autorise Google Fonts)
âœ… Configuration Apache valide
âœ… Apache redÃ©marrÃ©
âœ… Backend redÃ©marrÃ© avec PM2
âœ… API /api/home-content rÃ©pond
âœ… Dossier uploads accessible en Ã©criture
âœ… MongoDB actif

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
VÃ‰RIFICATIONS APRÃˆS LE SCRIPT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Test 1: Upload de fichier (candidature)
Aller sur le site et soumettre une candidature avec CV
â†’ Doit fonctionner sans erreur EACCES

# Test 2: API home-content
curl https://engineering-rnd.com/api/home-content
â†’ Doit retourner du JSON

# Test 3: Google Fonts
Ouvrir la console du navigateur
â†’ Plus d'erreurs CSP pour Google Fonts

# Test 4: Permissions uploads
ls -la /var/www/ENG-RD/ENG_ENGRD-main/backend/uploads
â†’ Doit montrer: drwxr-xr-x (755)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SI Ã‡A NE MARCHE PAS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Voir les logs du backend
pm2 logs backend --lines 50

# Voir les logs Apache
sudo tail -f /var/log/apache2/error.log

# VÃ©rifier les permissions manuellement
sudo chown -R $USER:$USER /var/www/ENG-RD/ENG_ENGRD-main/backend/uploads
sudo chmod -R 755 /var/www/ENG-RD/ENG_ENGRD-main/backend/uploads

# RedÃ©marrer tout
sudo systemctl restart apache2
pm2 restart backend

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
RÃ‰SUMÃ‰ DES CORRECTIONS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

| ProblÃ¨me | Solution |
|----------|----------|
| EACCES uploads/ | chmod 755 + chown |
| 404 /api/home-content | Collection MongoDB crÃ©Ã©e |
| CSP bloque Google Fonts | CSP mis Ã  jour |
| Backend pas dÃ©marrÃ© | PM2 start |
| MongoDB pas initialisÃ© | Collections + donnÃ©es |

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Tout sera corrigÃ© automatiquement! ğŸ’ª
